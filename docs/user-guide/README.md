# Deep Thinking Engine - 用户使用指南

欢迎使用Deep Thinking Engine！这是一个基于MCP协议的本地深度思考引擎，专门设计用于突破认知局限，通过系统性的思维方法帮助您进行深度分析和批判性思考。

## 什么是Deep Thinking Engine？

Deep Thinking Engine是一个**零成本本地MCP Server**，它将经过验证的思维科学方法转化为可执行的思维流程。系统采用智能分工原则：

- 🧠 **您的MCP Host（如Cursor）**: 负责智能生成和推理
- 🔧 **Deep Thinking Engine**: 提供科学的思维流程和精心设计的Prompt模板

## 核心特性

### 🎯 系统性思维方法
- **问题分解**: 将复杂问题拆分为可管理的子问题
- **多源证据收集**: 利用Web搜索获取权威、多样化的信息
- **多角度辩论**: 从不同立场分析问题，避免单一视角局限
- **批判性评估**: 使用Paul-Elder九大标准评估论证质量
- **偏见检测**: 识别和缓解常见认知偏误
- **创新思维**: 运用SCAMPER和TRIZ方法激发突破性思路
- **反思总结**: 苏格拉底式提问引导元认知思考

### 🔒 隐私优先
- **完全本地运行**: 核心思维过程在您的设备上进行
- **零数据泄露**: 不向外部服务发送敏感思维内容
- **用户完全控制**: 所有数据存储在本地，随时可删除

### 💰 零成本运行
- **无API费用**: MCP Server端不调用任何LLM API
- **订阅制友好**: 充分利用Cursor等工具的按用户请求计费模式
- **多轮推理零成本**: 复杂的思维流程不产生额外费用

## 快速开始

### 1. 安装和配置

请参考[部署指南](../deployment/README.md)完成安装和配置。

### 2. 在Cursor中使用

配置完成后，您可以在Cursor中直接使用Deep Thinking Engine的工具：

```
请使用start_thinking工具开始深度思考：如何提高团队协作效率？
```

### 3. 基本使用流程

1. **开始思考**: 使用`start_thinking`工具输入您的问题
2. **逐步执行**: 根据返回的Prompt模板执行思维步骤
3. **获取下一步**: 使用`next_step`工具继续流程
4. **质量检查**: 使用`analyze_step`工具评估步骤质量
5. **完成总结**: 使用`complete_thinking`工具生成最终报告

## 详细使用指南

### 开始深度思考

使用`start_thinking`工具开始一个新的思考会话：

**基本用法**:
```
start_thinking("如何解决城市交通拥堵问题？")
```

**高级用法**:
```json
{
  "topic": "如何解决城市交通拥堵问题？",
  "complexity": "complex",
  "focus": "可持续发展和技术创新",
  "flow_type": "comprehensive_analysis"
}
```

**参数说明**:
- `topic` (必需): 要深度思考的主题或问题
- `complexity`: 问题复杂度 (`simple`, `moderate`, `complex`)
- `focus`: 分析重点或特定关注领域
- `flow_type`: 思维流程类型 (`comprehensive_analysis`, `quick_analysis`)

**返回内容**:
系统会返回一个问题分解的Prompt模板，引导您将复杂问题分解为3-7个可管理的子问题。

### 执行思维步骤

根据返回的Prompt模板执行相应的思维步骤。每个步骤都有具体的指导和要求。

**问题分解示例**:
```json
{
  "main_question": "如何解决城市交通拥堵问题？",
  "sub_questions": [
    {
      "id": "1",
      "question": "交通拥堵的根本原因是什么？",
      "priority": "high",
      "search_keywords": ["交通拥堵原因", "城市规划", "人口密度"],
      "expected_perspectives": ["城市规划", "经济学", "社会学"]
    },
    {
      "id": "2", 
      "question": "现有的解决方案有哪些，效果如何？",
      "priority": "high",
      "search_keywords": ["交通管理", "公共交通", "智能交通"],
      "expected_perspectives": ["技术方案", "政策措施", "国际经验"]
    }
  ],
  "relationships": [
    {"from": "1", "to": "2", "type": "prerequisite"}
  ]
}
```

### 继续思维流程

使用`next_step`工具获取下一步的指导：

```json
{
  "session_id": "your-session-id",
  "step_result": "上一步的执行结果"
}
```

系统会根据当前进度返回相应的Prompt模板，可能包括：
- 证据收集指导
- 多角度辩论框架
- 批判性评估标准
- 偏见检测清单
- 创新思维技法
- 反思引导问题

### 质量检查

使用`analyze_step`工具对执行的步骤进行质量评估：

```json
{
  "session_id": "your-session-id",
  "step_name": "collect_evidence",
  "step_result": "证据收集的结果",
  "analysis_type": "quality"
}
```

系统会返回详细的质量评估Prompt，包括：
- Paul-Elder九大标准评分
- 具体改进建议
- 质量门槛检查
- 下一步建议

### 完成思考

使用`complete_thinking`工具生成最终的综合报告：

```json
{
  "session_id": "your-session-id",
  "final_insights": "您的最终洞察和总结"
}
```

系统会生成包含以下内容的综合报告：
- 核心发现和结论
- 证据支撑分析
- 多角度观点总结
- 创新思路和建议
- 反思和学习收获

## 思维流程详解

### 全面分析流程 (comprehensive_analysis)

这是默认的深度思考流程，适用于复杂问题的全面分析：

1. **问题分解** (decompose_problem)
   - 将主问题分解为3-7个子问题
   - 识别问题间的依赖关系
   - 设定分析优先级

2. **证据收集** (collect_evidence)
   - 针对每个子问题搜索相关信息
   - 评估信息源的可信度
   - 识别相互冲突的观点

3. **多角度辩论** (multi_perspective_debate)
   - 从支持、反对、中立三个角度分析
   - 进行结构化的观点交锋
   - 总结各方核心论点

4. **批判性评估** (critical_evaluation)
   - 使用Paul-Elder九大标准评估
   - 识别逻辑谬误和薄弱环节
   - 提供改进建议

5. **偏见检测** (bias_detection)
   - 检测确认偏误、锚定效应等
   - 分析偏见对结论的影响
   - 提供缓解策略

6. **创新思维** (innovation_thinking)
   - 运用SCAMPER技法激发创意
   - 应用TRIZ原理寻找突破
   - 评估创新方案的可行性

7. **反思总结** (reflection)
   - 苏格拉底式提问引导反思
   - 评估思维过程的质量
   - 总结学习收获和改进方向

### 快速分析流程 (quick_analysis)

适用于简单问题或时间有限的情况：

1. **简化分解** (simple_decompose)
2. **基础证据收集** (basic_evidence)
3. **快速评估** (quick_evaluation)
4. **简要反思** (brief_reflection)

## 最佳实践

### 1. 问题表述技巧

**好的问题表述**:
- ✅ "如何在保证教育质量的前提下，降低在线教育的成本？"
- ✅ "人工智能对就业市场的长期影响是什么？"

**需要改进的问题表述**:
- ❌ "教育问题" (过于宽泛)
- ❌ "AI好不好？" (过于简单)

### 2. 复杂度选择指南

- **Simple**: 概念清晰、影响因素较少的问题
- **Moderate**: 涉及多个维度、需要平衡考虑的问题
- **Complex**: 高度复杂、涉及多个利益相关者的系统性问题

### 3. 关注重点设定

明确您的分析重点可以让思维过程更加聚焦：
- "技术可行性"
- "经济效益分析"
- "社会影响评估"
- "可持续发展"
- "风险管理"

### 4. 证据收集技巧

- **多样化来源**: 学术论文、政府报告、新闻媒体、专家观点
- **时效性考虑**: 优先使用最新的数据和研究
- **权威性验证**: 检查信息来源的可信度
- **观点平衡**: 寻找支持和反对的不同观点

### 5. 质量提升策略

- **及时检查**: 每完成一个步骤就进行质量评估
- **迭代改进**: 根据反馈不断完善分析结果
- **保持开放**: 愿意接受与预期不符的发现
- **深度思考**: 不满足于表面的答案，追求深层理解

## 常见使用场景

### 1. 商业决策分析
```
start_thinking("我们公司是否应该进入新兴市场X？")
```
- 市场机会评估
- 竞争环境分析
- 风险收益权衡
- 资源需求评估

### 2. 学术研究问题
```
start_thinking("远程工作对员工创新能力的影响机制是什么？")
```
- 文献综述
- 理论框架构建
- 研究假设提出
- 方法论设计

### 3. 政策问题分析
```
start_thinking("如何设计有效的碳税政策？")
```
- 政策目标明确
- 利益相关者分析
- 实施机制设计
- 效果评估框架

### 4. 技术方案评估
```
start_thinking("我们应该选择哪种云计算架构？")
```
- 技术需求分析
- 方案对比评估
- 成本效益分析
- 风险评估

### 5. 个人发展规划
```
start_thinking("我应该如何规划未来5年的职业发展？")
```
- 现状分析
- 目标设定
- 路径规划
- 风险应对

## 高级功能

### 1. 自定义思维流程

您可以通过修改配置文件来自定义思维流程：

```yaml
thinking_flows:
  custom_analysis:
    name: "自定义分析流程"
    steps:
      - step: "custom_decompose"
        template: "custom_decomposition"
      - step: "specialized_analysis"
        template: "domain_specific_analysis"
```

### 2. 模板定制

创建专门的Prompt模板来适应特定领域的需求：

```python
# templates/domain_specific_analysis.py
DOMAIN_ANALYSIS_TEMPLATE = """
# 领域专业分析

针对{domain}领域的{topic}进行专业分析：

## 领域特定考虑因素：
1. 行业标准和最佳实践
2. 监管要求和合规性
3. 技术发展趋势
4. 市场动态分析

请基于领域专业知识进行深入分析：
"""
```

### 3. 质量标准调整

根据不同类型的问题调整质量门槛：

```yaml
quality_gates:
  academic_research: 0.9
  business_decision: 0.8
  quick_analysis: 0.6
```

## 故障排除

### 常见问题

#### 1. 会话丢失
**症状**: 提示"Session not found"
**解决方案**: 
- 重新开始思考流程
- 检查session_id是否正确
- 确认服务器正常运行

#### 2. 模板加载失败
**症状**: 返回通用错误模板
**解决方案**:
- 检查模板文件是否存在
- 验证模板格式是否正确
- 重启MCP服务器

#### 3. 质量评估过严
**症状**: 质量评分持续偏低
**解决方案**:
- 调整质量门槛设置
- 提供更详细的分析内容
- 使用analyze_step工具获取具体改进建议

#### 4. 思维流程卡住
**症状**: 无法获取下一步指导
**解决方案**:
- 检查上一步结果格式是否正确
- 使用analyze_step检查步骤质量
- 考虑重新执行当前步骤

### 获取帮助

如果遇到问题：

1. **查看日志**: 检查`logs/mcp_server.log`获取详细错误信息
2. **验证配置**: 使用`--validate-only`参数检查配置
3. **重启服务**: 尝试重启MCP服务器
4. **重新开始**: 如果问题持续，考虑开始新的思考会话

## 进阶技巧

### 1. 批量问题分析

对于相关的多个问题，可以在一个会话中逐步分析：

```
1. 开始主要问题的分析
2. 在证据收集阶段扩展到相关问题
3. 在辩论阶段考虑问题间的相互影响
4. 在总结阶段提供综合性建议
```

### 2. 迭代深化

对于复杂问题，可以进行多轮分析：

```
第一轮：快速分析，获得初步理解
第二轮：全面分析，深入关键问题
第三轮：专项分析，解决特定疑问
```

### 3. 协作思考

多人协作时的最佳实践：

```
1. 明确分工：不同人负责不同子问题
2. 定期同步：分享各自的发现和洞察
3. 交叉验证：相互检查分析质量
4. 综合整理：汇总形成统一结论
```

## 总结

Deep Thinking Engine是您进行深度思考和批判性分析的强大助手。通过系统性的思维方法和科学的流程设计，它能帮助您：

- 🎯 **突破认知局限**: 通过多角度分析避免思维盲点
- 🔍 **提高分析质量**: 使用科学标准评估思维过程
- 💡 **激发创新思维**: 运用创新方法产生突破性想法
- 🧠 **培养元认知**: 通过反思提升思维能力
- 🔒 **保护隐私安全**: 所有思维过程完全在本地进行

开始您的深度思考之旅吧！记住，好的思考需要时间和耐心，但Deep Thinking Engine会为您提供科学的方法和可靠的指导。